Content-Type: text/x-zim-wiki
Wiki-Format: zim 0.4
Creation-Date: 2020-01-21T15:54:43+03:00

====== Использование afick для обнаружения вторжений ======
Создан Вторник 21 Январь 2020


Afick - это быстрая и доступная утилита, помогающая при обнаружении вторжений, а также позволяющая контролировать общую целостность системы. Эта утилита доступна для большинства платформ, как в двоичном, так и в исходном форматах. Ниже будут описаны основные сведения по установке и использованию afick.
Системы обнаружения вторжений при своей работе используют различные методы - некоторые обнаруживают попытки вторжений, контролируя активность портов, некоторые ищут неудачные попытки регистрации в системе и т.д. С другой стороны, Afick контролирует изменения в файловой системе и сразу сообщает о них, таким образом, предоставляя выбор решить, действительно ли ожидались эти изменения. Эта информация может помочь в расследовании инцидента, когда необходимо определить какие были произведены изменения в системе в результате взлома.
Важно понимать, что Afick не сможет обеспечить 100% защиту. Лучшим средством является использование многоуровневой защитной стратегии, основанной на группе утилит, поддерживающих различные функции. Полная защита системы/сети, вне возможностей данной статьи, поэтому здесь не будут охвачены эти темы.
Afick формирует базу данных файлов, каталогов и их соответствующих им MD5 контрольных сумм. Файлы и каталоги, включенные в эту базу данных, выбираются соответственно входным данным из файла конфигурации Afick, называемого afick.conf, после того, как Afick установит этот файл в /etc каталог. Файл конфигурации afick.conf имеет простую синтаксическую структуру. Можно очень быстро добавить или удалить типы файлов, каталоги, и т.д. Ниже приведено содержимое файла afick.conf. Обратите внимание, что элементы в файле конфигурации чувствительны к регистру.

# afickconfigsamplefile

# directives
############
#Определем какую базу данных будет использовать Afick
database:=/var/lib/afick/afick
#Определяем куда Afick будет выводить результаты своей работы
# report_url:= stdout
# verbose:= no
# warn_dead_symlinks:= no
# report_full_newdel:= no
# warn_missing_file:= no
# running_files:= no
# timing:= no
# textfiles
#Определяем, что Afick должен игнорировать текстовые файлы с такими расширениями
exclude_suffix:= logLOGhtmlhtmHTMtxtTXTxml
# help files 
#Определяем, что Afick должен игнорировать файлы справки с такими расширениями
exclude_suffix := hlp pod chm
#Определяем, что Afick должен игнорировать временные файлы с такими расширениями
# old files
exclude_suffix := tmp old bak
# fonts 
#Определяет, что Afick должен игнорировать файлы шрифтов с такими расширениями
exclude_suffix := fon ttf TTF 
#Определяем, что Afick должен игнорировать файлы изображений с такими расширениями
# images 
exclude_suffix := bmp BMP jpg JPG gif png ico 
#Определяем, что Afick должен игнорировать медиа файлы с такими расширениями
# audio
exclude_suffix:= wavWAVmp3 avi 
# macros
######## 
#Определяет пользователя, которому будут отсылаться отчеты по работе Afick
# usedbycron
@@defineMAILTOroot 
#Определяет максимальное количество строк в отчете
@@define LINES 1000 
# list the file or directories to scan 
# syntaxe : 
# file action 
# to have action on file (see below)
# ! file 
# to remove file from scan 
# file with blank character have to be quoted 
#Ниже описаны опции, определяющие какие атрибуты файлов нужно контролировать
# action : a list of item to check 
# md5 : md5 checksum 
# d : device 
# i : inode 
# p : permissions 
# n : number of links 
# u : user 
# g : group 
